name: Send Commit to Discord

on:
  push:
    branches:
      - '*' # triggers on all branches

jobs:
  notify:
    runs-on: ubuntu-latest
    steps:
      - name: Send Commit Info to Discord
        uses: Ilshidur/action-discord@master
        env:
          DISCORD_WEBHOOK: ${{ secrets.DISCORD_WEBHOOK }}
        with:
          args: >
            **${{ github.actor }}** pushed to **${{ github.ref_name }}**  
            **Latest Commit Message:** ${{ github.event.commits[0].message }}  
            **Author:** ${{ github.event.commits[0].author.name }}  
            **Added:** ${{ github.event.commits[0].added }}  
            **Modified:** ${{ github.event.commits[0].modified }}  
            **Removed:** ${{ github.event.commits[0].removed }}  
            **Commit URL:** https://github.com/${{ github.repository }}/commit/${{ github.event.commits[0].id }}
